<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Simulación Hormigas - p5.js</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="stylesheet" href="styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/p5@1.9.0/lib/p5.min.js"></script>
    <script type="module" src="js/main.js"></script>
  </head>
  <body>
    <aside id="panel">
      <h1>Hormigas (ACO)</h1>
      <div style="font-size: 12px; opacity: 0.8">
        Click para añadir comida. Arrastra el nido. Ctrl+Click sobre comida para
        eliminarla.
      </div>

      <h2>Hormiguero</h2>
      <label>
        Número de hormigas
        <input
          id="antsCount"
          type="range"
          min="10"
          max="800"
          step="10"
          value="700"
        />
        <div class="row"><span id="antsCountVal">700</span></div>
      </label>

      <h2>Movimiento</h2>
      <label>
        Velocidad
        <input
          id="speed"
          type="range"
          min="0.5"
          max="4"
          step="0.1"
          value="1.6"
        />
        <div class="row"><span id="speedVal">1.6</span></div>
      </label>
      <label>
        Giro aleatorio
        <input
          id="randomTurn"
          type="range"
          min="0"
          max="0.5"
          step="0.01"
          value="0.12"
        />
        <div class="row"><span id="randomTurnVal">0.12</span></div>
      </label>

      <h2>Pheromonas</h2>
      <label>
        Evaporación (1 = rápido)
        <input
          id="evaporation"
          type="range"
          min="0.90"
          max="0.999"
          step="0.001"
          value="0.970"
        />
        <div class="row"><span id="evaporationVal">0.970</span></div>
      </label>
      <label>
        Depositar
        <input id="deposit" type="range" min="1" max="30" step="1" value="8" />
        <div class="row"><span id="depositVal">8</span></div>
      </label>
      <label>
        Influencia rastro
        <input
          id="pheromoneInfluence"
          type="range"
          min="0"
          max="4"
          step="0.1"
          value="2.0"
        />
        <div class="row"><span id="pheromoneInfluenceVal">2.0</span></div>
      </label>
      <label>
        Radio percepción
        <input
          id="senseRadius"
          type="range"
          min="2"
          max="40"
          step="1"
          value="18"
        />
        <div class="row"><span id="senseRadiusVal">18</span></div>
      </label>
      <label>
        Ángulo percepción (°)
        <input
          id="senseAngle"
          type="range"
          min="10"
          max="180"
          step="5"
          value="70"
        />
        <div class="row"><span id="senseAngleVal">70</span></div>
      </label>

      <h2>Acciones</h2>
      <div class="row" style="flex-wrap: wrap; gap: 6px">
        <button id="resetBtn">Reset</button>
        <button id="clearPheromonesBtn">Limpiar feromonas</button>
        <button id="spawnFoodBtn">Añadir comida masiva</button>
      </div>

      <h2>Estado</h2>
      <div style="font-size: 12px; line-height: 1.4">
        FPS: <span id="fps">0</span><br />
        Comida total: <span id="foodCount">0</span><br />
        Feromonas activas: <span id="pheromoneCount">0</span><br />
      </div>
    </aside>
    <div id="canvas-wrapper">
      <div id="overlay">
        <strong>Instrucciones</strong><br />
        Click: añadir comida (apila). Ctrl+Click: eliminar comida cercana.<br />
        Arrastrar dentro del círculo: mover nido.<br />
        Parámetros ajustables a la izquierda; prueba a reducir evaporación para
        caminos persistentes.<br />
        Botón Limpiar feromonas para observar nuevos caminos.
      </div>
    </div>
  </body>
</html>
